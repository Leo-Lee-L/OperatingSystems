<!DOCTYPE html>
<html>
    <head>
        <link href="style.css" rel="stylesheet" type="text/css"/>
        <title>
            No Memory Abstraction
        </title>
    </head>

    <body>
    <div id="header">
        <div id="logo">
            <img
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/IBM_PPC604e_200.jpg/220px-IBM_PPC604e_200.jpg"
            height="56" width="56"
            max-height=100%>
        </div>
        <div id="user-tools">
            <a href="index.html">Home</a>
            &nbsp; &nbsp; 
            <a href="about.html">About</a>
        </div>
    </div>

        <h1>
            No Memory Abstraction
        </h1>

            <div style="text-align:center">
                <p>
                <img
                 src="graphics/MemChip.png"
                 height="200" width="320">
                </p>
            </div>

            <details>
                <summary class="sum1">
                History
                </summary>

                <p>
                <b>The simplest memory abstraction is no abstraction at all.</b>
                </p>

                <ul>
                    <li>
                    Early computers did not have any memory 
                    abstraction at all, which means all 
                    programs had direct access to physical memory.
                    </li>
                    <li>
                        This means we could not have 2 programs running 
                        in main memory at once,
                        as this would cause inconsistency in data.
                    </li>
                    <li>
                        Processes could erase each others' written output/input 
                        and cause severe inconsistencies.
                    </li>
                </ul>
            </details>

            <details>
                <summary class="sum1">
                Multiprogramming without memory abstraction
                </summary>
                <ul>
                    <li>
                        It is possible to run multiple programs 
                        without having memory abstraction.
                    </li>
                    <li>
                        The idea is to have just one running process in main 
                        memory at any point of time.
                    </li>
                    <li>
                        Whenever a process leaves main memory, all of its current 
                        state and values are copied
                        out of main memory and another process 
                        is brought onto main memory.
                    </li>
                    <li>
                        Whenever the process returns to main memory, 
                        all of the saved contents are brought back to main memory.
                    </li>
                </ul>
            </details>

            <details>
                <summary class="sum1">
                Multiprogramming without memory abstraction or swapping
                </summary>
                <ul>
                    <li>
                        With addition of special hardware, it is possible to 
                        run multiprogramming without swapping.
                    </li>
                    <li>
                        Early models of IBM 360 followed this approach:
                        <ul>
                            <li> 
                            Memory was divided into 2 KB blocks and each
                            block was assigned a 4-bit protetion key
                            held in special registers inside the CPU.
                            </li> 
        
                            <li> 
                            A machine with 1 MB memory needed only 512 of 
                            these 4 bit registers for a total
                            of 256 bytes of key storage.
                            </li> 
        
                            <li> 
                            The PSW (Program Status Word) also contained a 4-bit key.
                            </li> 
        
                            <li> 
                            The 360 hardware trapped any attempt by a running 
                            process to access memory
                            with a protection code from the PSW key.
                            </li> 
        
                            <li> 
                            Only the OS is permitted to change 
                            the protection keys, hence,
                            user processes could not interfere with one another 
                            and also with the OS process.
                            </li>
                        </ul> 
                    </li>
                </ul>
            </details>

    <details>
        <summary class="sum1">
            Quiz
        </summary>
        <ol>
            <li>
                The main problem with having two programs in memory without memory abstraction is
            </li>
            <ol type="a">
                <li>
                <input type="radio" name="q1" value="new">
                it is difficult to determine the name of each program
                </li>
                <li>
                <input type="radio" name="q1" value="new">
                each program will have different ideas about what the CPU should be doing
                </li>
                <li>
                <input type="radio" name="q1" value="new">
                each program can overwrite the memory of the other
                </li>
                <li>
                <input type="radio" name="q1" value="new">
                none of the above
                </li>
            </ol>
            <li>
                Without memory abstraction we can still have multiprogramming
            </li>
            <ol type="a">
                <li>
                <input type="radio" name="q2" value="new">
                by only running one program at a time and completely swapping each successive program in and out of memory
                </li>
                <li>
                <input type="radio" name="q2" value="new">
                by using VT
                </li>
                <li>
                <input type="radio" name="q2" value="new">
                by taking advantage of an MMU
                </li>
                <li>
                <input type="radio" name="q2" value="new">
                with paging
                </li>
            </ol>
            <li>
                Even without swapping or memory abstraction we can multiprogram
            </li>
            <ol type="a">
                <li>
                <input type="radio" name="q3" value="new">
                if we write our code very carefully
                </li>
                <li>
                <input type="radio" name="q3" value="new">
                if we have an MMU
                </li>
                <li>
                <input type="radio" name="q3" value="new">
                if we have special hardware to divide memory between different programs
                </li>
                <li>
                <input type="radio" name="q3" value="new">
                all of the above
                </li>
            </ol>
        </ol>
        <details>
            <summary class="sum2">
                Answers
            </summary>
            <p>
                1. c; 2. a; 3. c; 
            </p>
        </details>
    </details>

    </body>
</html>
